{"remainingRequest":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\gs\\Petavi\\src\\view\\vetAgora\\vetAgora.vue?vue&type=style&index=0&id=7370c887&lang=less&scoped=true&","dependencies":[{"path":"E:\\gs\\Petavi\\src\\view\\vetAgora\\vetAgora.vue","mtime":1622616294318},{"path":"E:\\gs\\Petavi\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0ICJAL2xlc3MvY3NzLmxlc3MiOw0KICAgIC5sb2dvX3dyYXAgew0KICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgIGhlaWdodDogMTA5cHg7DQogICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgfQ0KICAgIC5MT0dPIHsNCiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICBsZWZ0OiA2MnB4Ow0KICAgICAgICB0b3A6IDE1cHg7DQogICAgICAgIHdpZHRoOiAxMTBweDsNCiAgICAgICAgaGVpZ2h0OiAxMjNweDsNCiAgICB9DQogICAgLnNob3dWaWRlbyB7DQogICAgICAgIGJhY2tncm91bmQ6IEBjb250ZW50Ow0KICAgICAgICBmbGV4OiA4Ow0KICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgIC52aWRlb19jaGlsZCB7DQogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICB3aWR0aDogMTIzcHg7DQogICAgICAgICAgICBoZWlnaHQ6IDE1MHB4Ow0KICAgICAgICAgICAgYm9yZGVyOiBzb2xpZCAxcHg7DQogICAgICAgICAgICBib3R0b206IDIwcHg7DQogICAgICAgICAgICByaWdodDogMjBweDsNCiAgICAgICAgICAgIHotaW5kZXg6IDEwMDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrOw0KICAgICAgICB9DQogICAgICAgIC5hbnN3ZXIgew0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgd2lkdGg6IDQwMHB4Ow0KICAgICAgICAgICAgYm90dG9tOiAzMHB4Ow0KICAgICAgICAgICAgbGVmdDogNTAlOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwwKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAuZG9jdG9yTWVzc2FnZSB7DQogICAgICAgIGZsZXg6IDI7DQogICAgfQ0KICAgIC5hYm91dF9tZSB7DQogICAgICAgIHBhZGRpbmc6IDQwcHggMCAyOHB4IDA7DQogICAgfQ0KICAgIC5teU5hbWUgew0KICAgICAgICB3aWR0aDogMjAwcHg7DQogICAgICAgIHBhZGRpbmc6IDAgNXB4Ow0KICAgIH0NCiAgICAubXlPcGVyYXRpb257DQogICAgICAgIHdpZHRoOiAyNjBweDsNCiAgICAgICAgaGVpZ2h0OiA1MHB4Ow0KICAgICAgICBwYWRkaW5nOiAwIDEwcHg7DQogICAgfQ0KICAgIC5vdXRMb2dvIHsNCiAgICAgICAgd2lkdGg6IDExMnB4Ow0KICAgICAgICBoZWlnaHQ6IDM2cHg7DQogICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7DQogICAgICAgIGJhY2tncm91bmQ6IEBsb2dvdXQ7DQogICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICB9DQogICAgLmhlbHBBYm91dCB7DQogICAgICAgIHdpZHRoOiAxMjJweDsNCiAgICAgICAgaGVpZ2h0OiAzNnB4Ow0KICAgICAgICBwYWRkaW5nOiAwIDVweDsNCiAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDsNCiAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgICAgICBiYWNrZ3JvdW5kOiBAaGVscEJ0bjsNCiAgICB9DQogICAgLkRPQ1RPUiB7DQogICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDsNCiAgICB9DQogICAgLmFib3V0X3RoZV9kb2N0b3Igew0KICAgICAgICBtYXJnaW4tdG9wOiAzMHB4Ow0KICAgICAgICB3aWR0aDogMzAwcHg7DQogICAgICAgIGhlaWdodDogNjVweDsNCiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IC8q5pyJ5Lqb56S65L6L6YeM6ZyA6KaB5a6a5LmJ6K+l5bGe5oCn77yM5a6e6ZmF5Y+v55yB55WlKi8NCiAgICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7DQogICAgICAgIC13ZWJraXQtbGluZS1jbGFtcDogMzsvKuinhOWumui2hei/h+S4pOihjOeahOmDqOWIhuaIquaWrSovDQogICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7DQogICAgICAgIG92ZXJmbG93IDogaGlkZGVuOyANCiAgICAgICAgd29yZC1icmVhazogYnJlYWstYWxsOy8q5Zyo5Lu75L2V5Zyw5pa55o2i6KGMKi8NCiAgICB9DQogICAgLmNoYXQgew0KICAgICAgICB3aWR0aDogOTUlOw0KICAgICAgICBoZWlnaHQ6IDQwMHB4Ow0KICAgICAgICBib3JkZXI6IHNvbGlkIDJweCAjRTlFOUU5Ow0KICAgICAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KDQogICAgfQ0KICAgIC5hdFByZXNlbnREb2N0b3Igew0KICAgICAgICB3aWR0aDogOTUlOw0KICAgICAgICBjb2xvcjogIzgyODI4MjsNCiAgICAgICAgYm9yZGVyOiAjRTlFOUU5IHNvbGlkIDJweDsNCiAgICAgICAgcGFkZGluZzogMTBweCAyMHB4IDIwcHggMjBweDsNCiAgICB9DQogICAgLmdldF9kYXkgew0KICAgICAgICB3aWR0aDogMjcwcHg7DQogICAgfQ0KICAgIC50aW1lIHsNCiAgICAgICAgYmFja2dyb3VuZDogI0YzRjNGMzsNCiAgICAgICAgd2lkdGg6IDgwcHg7DQogICAgICAgIHBhZGRpbmc6IDVweCAxMHB4Ow0KICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4Ow0KICAgICAgICAubWluX2Fycm93IHsNCiAgICAgICAgICAgIHdpZHRoOiAxMXB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAxMHB4Ow0KICAgICAgICAgICAgbWFyZ2luOiA0cHggMCAwIDRweDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAudGV4dGFyZWEgew0KICAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4Ow0KICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICB0ZXh0YXJlYSB7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIHJlc2l6ZTogbm9uZTsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRjNGM0YzOw0KICAgICAgICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAuYnV0dG9uIHsNCiAgICAgICAgcGFkZGluZzogMTBweCAxMHB4Ow0KICAgICAgICAuc2F2ZSB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiBAaGRDb2xvcjsNCiAgICAgICAgICAgIHdpZHRoOiAxMDBweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7DQogICAgICAgICAgICBwYWRkaW5nOiA3cHggMTBweDsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgfQ0KICAgICAgICAuc3VibWl0IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IEBoZWxwQnRuOw0KICAgICAgICAgICAgd2lkdGg6IDEwMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDdweCAxMHB4Ow0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQogICAgICAgIC5jbGlwSW1nIHsNCiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMTVweDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICANCg=="},{"version":3,"sources":["vetAgora.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vetAgora.vue","sourceRoot":"src/view/vetAgora","sourcesContent":["<style lang=\"less\" scoped>\r\n@import \"@/less/css.less\";\r\n    .logo_wrap {\r\n        position: relative;\r\n        height: 109px;\r\n        margin-bottom: 10px;\r\n    }\r\n    .LOGO {\r\n        position: absolute;\r\n        left: 62px;\r\n        top: 15px;\r\n        width: 110px;\r\n        height: 123px;\r\n    }\r\n    .showVideo {\r\n        background: @content;\r\n        flex: 8;\r\n        position: relative;\r\n        .video_child {\r\n            position: absolute;\r\n            width: 123px;\r\n            height: 150px;\r\n            border: solid 1px;\r\n            bottom: 20px;\r\n            right: 20px;\r\n            z-index: 100;\r\n            background: black;\r\n        }\r\n        .answer {\r\n            position: absolute;\r\n            width: 400px;\r\n            bottom: 30px;\r\n            left: 50%;\r\n            transform: translate(-50%,0);\r\n        }\r\n    }\r\n    .doctorMessage {\r\n        flex: 2;\r\n    }\r\n    .about_me {\r\n        padding: 40px 0 28px 0;\r\n    }\r\n    .myName {\r\n        width: 200px;\r\n        padding: 0 5px;\r\n    }\r\n    .myOperation{\r\n        width: 260px;\r\n        height: 50px;\r\n        padding: 0 10px;\r\n    }\r\n    .outLogo {\r\n        width: 112px;\r\n        height: 36px;\r\n        border-radius: 15px;\r\n        background: @logout;\r\n        color: white;\r\n    }\r\n    .helpAbout {\r\n        width: 122px;\r\n        height: 36px;\r\n        padding: 0 5px;\r\n        border-radius: 15px;\r\n        font-size: 12px;\r\n        white-space: nowrap;\r\n        background: @helpBtn;\r\n    }\r\n    .DOCTOR {\r\n        padding: 10px 20px;\r\n    }\r\n    .about_the_doctor {\r\n        margin-top: 30px;\r\n        width: 300px;\r\n        height: 65px;\r\n        text-overflow: ellipsis; /*有些示例里需要定义该属性，实际可省略*/\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 3;/*规定超过两行的部分截断*/\r\n        -webkit-box-orient: vertical;\r\n        overflow : hidden; \r\n        word-break: break-all;/*在任何地方换行*/\r\n    }\r\n    .chat {\r\n        width: 95%;\r\n        height: 400px;\r\n        border: solid 2px #E9E9E9;\r\n        margin-top: 10px;\r\n\r\n    }\r\n    .atPresentDoctor {\r\n        width: 95%;\r\n        color: #828282;\r\n        border: #E9E9E9 solid 2px;\r\n        padding: 10px 20px 20px 20px;\r\n    }\r\n    .get_day {\r\n        width: 270px;\r\n    }\r\n    .time {\r\n        background: #F3F3F3;\r\n        width: 80px;\r\n        padding: 5px 10px;\r\n        border-radius: 15px;\r\n        .min_arrow {\r\n            width: 11px;\r\n            height: 10px;\r\n            margin: 4px 0 0 4px;\r\n        }\r\n    }\r\n    .textarea {\r\n        border-radius: 20px;\r\n        overflow: hidden;\r\n        textarea {\r\n            width: 100%;\r\n            resize: none;\r\n            border: none;\r\n            outline: none;\r\n            background: #F3F3F3;\r\n            padding: 10px;\r\n        }\r\n    }\r\n    .button {\r\n        padding: 10px 10px;\r\n        .save {\r\n            background: @hdColor;\r\n            width: 100px;\r\n            border-radius: 20px;\r\n            padding: 7px 10px;\r\n            color: white;\r\n        }\r\n        .submit {\r\n            background: @helpBtn;\r\n            width: 100px;\r\n            border-radius: 20px;\r\n            padding: 7px 10px;\r\n            color: white;\r\n        }\r\n        .clipImg {\r\n            padding-left: 15px;\r\n        }\r\n    }\r\n    \r\n</style>\r\n\r\n<template>\r\n    <div class=\"agora\">\r\n        <div class=\"flex\">\r\n            <div>\r\n                <div class=\"logo_wrap\">\r\n                    <img class=\"LOGO\" src=\"@/assets/img/logo.png\" alt=\"\">\r\n                </div>\r\n                <div><message></message></div>\r\n            </div>\r\n            <div class=\"showVideo\" id=\"localVideo\">\r\n                <div class=\"answer sb\">\r\n                    <div class=\"cursor\"><img src=\"@/assets/img/answer_audeo.png\" alt=\"\"></div>\r\n                    <div class=\"cursor\" @click=\"join\"><img src=\"@/assets/img/answer_video.png\" alt=\"\"></div>\r\n                    <div class=\"cursor\"><img src=\"@/assets/img/answer_phone.png\" alt=\"\"></div>\r\n                </div>\r\n                <div class=\"video_child\" id=\"video\"></div>\r\n            </div>\r\n            <div class=\"doctorMessage\">\r\n                <div class=\"about_me sb\">\r\n                    <div class=\"myName sb al\">\r\n                        <div><img src=\"@/assets/img/customerHead.png\" alt=\"\"></div>\r\n                        <div>myUserName</div>\r\n                        <div><img src=\"@/assets/img/information.png\" alt=\"\"></div>\r\n                    </div>\r\n                    <div class=\"myOperation sb al\">\r\n                        <div class=\"outLogo size12 bold cursor al ju\" @click=\"leave\">Logout</div>\r\n                        <div class=\"helpAbout al sb\">\r\n                            <img src=\"@/assets/img/what.png\" alt=\"\">\r\n                            Help & Support\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"atPresentDoctor mg\">\r\n                    <div>Medical Record</div>\r\n                    <div style=\"padding:13px 0\">Date</div>\r\n                    <div class=\"get_day sb\">\r\n                        <div class=\"time al ju\">\r\n                            day\r\n                            <img class=\"min_arrow\" src=\"@/assets/img/minarrow.png\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"time al ju\">\r\n                            month\r\n                            <img class=\"min_arrow\" src=\"@/assets/img/minarrow.png\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"time al ju\">\r\n                            year\r\n                            <img class=\"min_arrow\" src=\"@/assets/img/minarrow.png\" alt=\"\">\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"padding:25px 0 10px 0\">Details</div>\r\n                    <div class=\"textarea\">\r\n                        <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\r\n                    </div>\r\n                    <div class=\"button sb tc\">\r\n                        <div class=\"save cursor\">Save</div>\r\n                        <div class=\"sb tc\">\r\n                            <div class=\"submit cursor\">Submit</div>\r\n                            <div><img class=\"clipImg cursor\" src=\"@/assets/img/clip.png\" alt=\"\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"chat mg\">\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n        <!-- <div id=\"player1\"></div>\r\n        <div id=\"player2\"></div>\r\n        <div><button @click=\"leave\">离开</button>\r\n            <button @click=\"join\">进入</button>\r\n        </div> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            client:null,\r\n            localTracks : {\r\n                videoTrack: null,\r\n                audioTrack: null\r\n            },\r\n            remoteUsers : {},\r\n            options: {\r\n                appid: '0bc95e1145da4b729993725eb55b319a',\r\n                channel: '654',\r\n                uid: 888,\r\n                token: '0060bc95e1145da4b729993725eb55b319aIABktH+02bSfhRnt1IbqwSWGHtt2CLSt2SYNHo683uu1BjN2IlwAAAAAEAD/3NMfIxqyYAEAAQAjGrJg'\r\n            }\r\n        }\r\n    },\r\n    mounted () {\r\n        // console.log(AgoraRTC)\r\n        this.createClient()\r\n        \r\n    },\r\n    methods: {\r\n        // edit () {\r\n        //     this.change = !this.change\r\n        // },\r\n        // petList () {\r\n        //     this.show = !this.show\r\n        //     this.rotate = !this.rotate\r\n        // },\r\n        // setting () {\r\n        //     setTimeout(() => {\r\n        //         this.$router.push(\"/setting\")\r\n        //     })\r\n        // },\r\n        // petDetails () {\r\n        //     this.$router.push(\"/petDetails\")\r\n        // },\r\n\r\n        \r\n        createClient () {\r\n            this.client = this.$V.createClient({  //进入页面自动调用 mounted\r\n                mode: \"rtc\",\r\n                codec: \"vp8\"\r\n            })\r\n            this.client.on(\"user-published\", this.handleUserPublished);    //点击join触发\r\n        },\r\n        handleUserPublished (user, mediaType) {\r\n            console.log(1233333, user.uid, mediaType)\r\n            const id = user.uid;\r\n            this.remoteUsers[id] = user;\r\n            this.subscribe(user, mediaType);\r\n        },\r\n        async subscribe (user, mediaType) {\r\n            const uid = user.uid;\r\n            await this.client.subscribe(user, mediaType);\r\n            if (mediaType === 'video') {\r\n                console.log(\"subscribe success\" , uid, this.client.uid);\r\n                user.videoTrack.play(`player2`);\r\n            }\r\n            if (mediaType === 'audio') {\r\n                user.audioTrack.play();\r\n            }\r\n        },\r\n        async join () {\r\n            [ this.options.uid, this.localTracks.audioTrack, this.localTracks.videoTrack ] = await Promise.all([\r\n                // join the channel\r\n                this.client.join(this.options.appid, this.options.channel, this.options.token || null),\r\n                // create local tracks, using microphone and camera\r\n                this.$V.createMicrophoneAudioTrack(),\r\n                this.$V.createCameraVideoTrack()\r\n            ]);\r\n            this.localTracks.videoTrack.play(\"player1\");\r\n            await this.client.publish(Object.values(this.localTracks));\r\n            console.log(\"publish success\");\r\n        },\r\n        async leave() {\r\n            for (var trackName in this.localTracks) {\r\n                var track = this.localTracks[trackName];\r\n                if(track) {\r\n                    track.stop();\r\n                    track.close();\r\n                    this.localTracks[trackName] = undefined;\r\n                }\r\n            }\r\n            // remove remote users and player views\r\n            this.remoteUsers = {};\r\n            // leave the channel\r\n            await this.client.leave();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n"]}]}