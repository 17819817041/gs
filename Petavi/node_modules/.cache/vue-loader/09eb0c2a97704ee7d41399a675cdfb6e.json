{"remainingRequest":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\gs\\Petavi\\src\\view\\signUp\\signUp.vue?vue&type=style&index=0&id=15bb607a&lang=less&scoped=true&","dependencies":[{"path":"E:\\gs\\Petavi\\src\\view\\signUp\\signUp.vue","mtime":1622686232450},{"path":"E:\\gs\\Petavi\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0ICJAL2xlc3MvY3NzLmxlc3MiOw0KICAgIC52ZXRTaWduIHsNCiAgICAgICAgbWFyZ2luLXRvcDogMTVweDsNCiAgICB9DQogICAgLnZldFNpZ24gZGl2IHsNCiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICB9DQogICAgLmhlYWRQb3J0cmFpdCB7DQogICAgICAgIGJvcmRlcjogc29saWQgMXB4Ow0KICAgIH0NCiAgICAudmV0X3RleHQsIC5wZXRfdGV4dCB7DQogICAgICAgIGNvbG9yOiAjQTFBMUExOw0KICAgIH0NCiAgICAudmV0X2hlYWQsIC5wZXRfaGVhZCB7DQogICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICAgICAgYm9yZGVyOiAjQzZDNkM2IHNvbGlkIDFweDsNCiAgICAgICAgbWFyZ2luOiAxMHB4IDUwcHg7DQogICAgICAgIHBhZGRpbmc6IDVweDsNCiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgdHJhbnNpdGlvbjogMC4yczsNCiAgICAgICAgaW1nIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICB9DQogICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDg1MHB4KSB7DQogICAgICAgICAgICB3aWR0aDogMTA1cHg7DQogICAgICAgICAgICBoZWlnaHQ6IDEwNXB4Ow0KICAgICAgICB9DQogICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU2NHB4KSB7DQogICAgICAgICAgICB3aWR0aDogODVweDsNCiAgICAgICAgICAgIGhlaWdodDogODVweDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAudmV0X2NoaWxkLCAucGV0X2NoaWxkIHsNCiAgICAgICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo1NjRweCkgew0KICAgICAgICAgICAgd2lkdGg6IDE3MHB4ICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCiAgICB9DQogICAgLm9wYWNpdHkgew0KICAgICAgICBvcGFjaXR5OiAwLjg7DQogICAgfQ0KICAgIC5vcGFjaXR5MSB7DQogICAgICAgIG9wYWNpdHk6IDEgIWltcG9ydGFudDsNCiAgICB9DQogICAgLnZldF9mb3JtIHsNCiAgICAgICAgd2lkdGg6IDcwMHB4Ow0KICAgICAgICBtYXJnaW46IDMwcHggYXV0bzsNCiAgICAgICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo1NjRweCkgew0KICAgICAgICAgICAgd2lkdGg6IEBwaG9uZU1lZGlhOw0KICAgICAgICAgICAgbWFyZ2luOiBhdXRvOw0KICAgICAgICB9DQogICAgICAgIHRyYW5zaXRpb246IDAuMnM7DQogICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDcwMHB4KSB7DQogICAgICAgICAgICB3aWR0aDogOTAlOw0KICAgICAgICB9DQogICAgfQ0KICAgIC52ZXRfc2lnbiB7DQogICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICBiYWNrZ3JvdW5kOiBAaGRDb2xvcjsNCiAgICB9DQo="},{"version":3,"sources":["signUp.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signUp.vue","sourceRoot":"src/view/signUp","sourcesContent":["<style lang=\"less\" scoped>\r\n@import \"@/less/css.less\";\r\n    .vetSign {\r\n        margin-top: 15px;\r\n    }\r\n    .vetSign div {\r\n        margin-bottom: 10px;\r\n    }\r\n    .headPortrait {\r\n        border: solid 1px;\r\n    }\r\n    .vet_text, .pet_text {\r\n        color: #A1A1A1;\r\n    }\r\n    .vet_head, .pet_head {\r\n        border-radius: 50%;\r\n        border: #C6C6C6 solid 1px;\r\n        margin: 10px 50px;\r\n        padding: 5px;\r\n        overflow: hidden;\r\n        transition: 0.2s;\r\n        img {\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n        @media screen and (max-width: 850px) {\r\n            width: 105px;\r\n            height: 105px;\r\n        }\r\n        @media screen and (max-width: 564px) {\r\n            width: 85px;\r\n            height: 85px;\r\n        }\r\n    }\r\n    .vet_child, .pet_child {\r\n        @media screen and (max-width:564px) {\r\n            width: 170px !important;\r\n        }\r\n    }\r\n    .opacity {\r\n        opacity: 0.8;\r\n    }\r\n    .opacity1 {\r\n        opacity: 1 !important;\r\n    }\r\n    .vet_form {\r\n        width: 700px;\r\n        margin: 30px auto;\r\n        @media screen and (max-width:564px) {\r\n            width: @phoneMedia;\r\n            margin: auto;\r\n        }\r\n        transition: 0.2s;\r\n        @media screen and (max-width: 700px) {\r\n            width: 90%;\r\n        }\r\n    }\r\n    .vet_sign {\r\n        border-radius: 8px;\r\n        color: white;\r\n        background: @hdColor;\r\n    }\r\n</style>\r\n\r\n<template>\r\n    <div class=\"vet\" v-loading=\"Vloading\">\r\n        <div>\r\n            <myHeaderL></myHeaderL>\r\n        </div>\r\n        <div class=\"vetSign tc\">\r\n            <div class=\"size21 vet_item\">Sign Up</div>\r\n            <div class=\"size7\">Add your details to sign up</div>\r\n        </div>\r\n        <div class=\"vet_form tc\">\r\n            <el-form ref=\"form\" :model=\"data\" :rules=\"rules\">\r\n                <el-form-item prop=\"platform\">\r\n                    <el-radio label=\"2\" v-model=\"data.platform\">\r\n                        <div class=\"vet_child\" style=\"transition:0.2s\">\r\n                            <div class=\"vet_head\">\r\n                                <img @click=\"vetIdentity\" :class=\"[ 'opacity', {'opacity1':data.platform == 2}]\" src=\"@/assets/img/vet.png\" alt=\"\">\r\n                            </div>\r\n                            <div class=\"vet_text\">Vet</div>\r\n                        </div>\r\n                    </el-radio>\r\n                    <el-radio label=\"1\" v-model=\"data.platform\">\r\n                        <div class=\"pet_child\">\r\n                            <div class=\"pet_head\">\r\n                                <img @click=\"petIdentity\" :class=\"[ 'opacity', {'opacity1':data.platform == 1}]\" src=\"@/assets/img/pet.png\" alt=\"\">\r\n                            </div>\r\n                            <div class=\"pet_text\">Customer</div>\r\n                        </div>\r\n                    </el-radio>\r\n                </el-form-item><br> <br>\r\n                <el-form-item prop=\"name\">\r\n                    <el-input placeholder=\"Name\" v-model=\"data.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"email\">\r\n                    <el-input placeholder=\"Email\" v-model=\"data.email\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"mobile\">\r\n                    <el-input placeholder=\"Moible\" v-model=\"data.phone\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"address\">\r\n                    <el-input placeholder=\"Address\" v-model=\"data.address\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"password\">\r\n                    <el-input placeholder=\"Password\" show-password v-model=\"data.password\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"confirm\">\r\n                    <el-input placeholder=\"Confirm Password\" show-password v-model=\"confirmPwd\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <div class=\"vet_sign cursor\">\r\n                        <el-button class=\"width100\"  type=\"primary\" @click=\"finishSignUp\">Sign Up</el-button>\r\n                    </div>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n        <div class=\"aleadyToLogin tc size7\">\r\n            Already have an Account? <span class=\"bold cursor\" style=\"color:#B3519F\" @click=\"toLoginPage\">Login</span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { signUp } from \"@/axios/request.js\"\r\nexport default {\r\n    data () {\r\n        return {\r\n            loading: false,\r\n            Vloading:false,\r\n            data: {\r\n                // platform: null,\r\n                // email: 'xhajsjxbdj@163.com',\r\n                // password: \"123456l\",\r\n                // address: \"123\",\r\n                // phone: \"12345678989\",\r\n                // name: \"lwz\"\r\n\r\n                platform: null,\r\n                email: '',\r\n                password: \"\",\r\n                address: \"\",\r\n                phone: \"\",\r\n                name: \"\"\r\n            },\r\n            // confirmPwd: '123456l',\r\n            confirmPwd: '',\r\n            rules: {\r\n                platform: [\r\n                    { required: true, message: \"Please select your identity\", trigger: 'blur' }\r\n                ],\r\n                email: [\r\n                    { required:true, message:'Please enter your email', trigger:\"blur\" }\r\n                ],\r\n                password: [\r\n                    { required: true, message:'Please enter your password', trigger:'blur' }\r\n                ],\r\n                address: [\r\n                    { required: true, message:'Please enter your address', trigger:'blur' }\r\n                ],\r\n                phone: [\r\n                    { required: true, message:'Please enter your phone', trigger:'blur' }\r\n                ],\r\n                name: [\r\n                    { required: true, message:'Please enter your name', trigger:'blur' }\r\n                ],\r\n                confirmPwd: [\r\n                    { required: true, message:'Please confirm your password', trigger:'blur' }\r\n                ],\r\n            }\r\n        }\r\n    },\r\n    created () {\r\n        \r\n    },\r\n    methods: {\r\n        vetIdentity () {\r\n            this.data.platform = 2\r\n            localStorage.setItem(\"platform\",2)\r\n            console.log('vet')\r\n        },\r\n        petIdentity () {\r\n            console.log(1)\r\n            this.data.platform =1\r\n            localStorage.setItem(\"platform\",1)\r\n            console.log('customerLogin')\r\n        },\r\n        toLoginPage () {\r\n            if (this.data.platform == 1) {\r\n                this.$router.push({\r\n                    name: \"customerLogin\"\r\n                })\r\n            } else if (this.data.platform == 2) {\r\n                this.$router.push({\r\n                    name: \"vetLogin\"\r\n                })\r\n            }\r\n        },\r\n        finishSignUp () {\r\n            if (this.confirmPwd === this.data.password) {\r\n                this.Vloading = true\r\n                let that = this\r\n                this.$refs.form.validate(flag => {\r\n                    if (flag) {\r\n                        signUp(that.data).then(res => {\r\n                            console.log(res)\r\n                            if (res.data.rtnCode == 200) {\r\n                                that.Vloading = false\r\n                                this.$message({\r\n                                    type: \"success\",\r\n                                    message: \"Register successfully,Please go to email to activate your account!\"\r\n                                })\r\n                                setTimeout(() => {\r\n                                    that.toLoginPage()\r\n                                },1000)\r\n                            } else {\r\n                                that.Vloading = false\r\n                            }\r\n                        }).catch(e => {\r\n                            console.log(e)\r\n                            that.Vloading = false\r\n                        })\r\n                    } else {\r\n                        this.Vloading = false\r\n                        this.$message({\r\n                            type: \"error\",\r\n                            message: \"Incomplete data!\"\r\n                        })\r\n                    }\r\n                })\r\n            } else {\r\n                this.confirmPwd = \"\"\r\n                this.$message({\r\n                    type: \"error\",\r\n                    message: \"Please make sure the passwords are the same!\"\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n"]}]}