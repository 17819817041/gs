{"remainingRequest":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\gs\\Petavi\\src\\view\\petmessage\\petmessage.vue?vue&type=style&index=0&id=4801409e&lang=less&scoped=true&","dependencies":[{"path":"E:\\gs\\Petavi\\src\\view\\petmessage\\petmessage.vue","mtime":1622802945570},{"path":"E:\\gs\\Petavi\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0ICJAL2xlc3MvY3NzLmxlc3MiOw0KICAgIC5tZXNzYWdlX3RpdGxlIHsNCiAgICAgICAgcGFkZGluZzogMjBweCAwOw0KICAgIH0NCiAgICAucGhvdG8gew0KICAgICAgICBtYXJnaW46IDdweDsNCiAgICAgICAgd2lkdGg6IDE1MHB4Ow0KICAgICAgICBoZWlnaHQ6IDE1MHB4Ow0KICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgYmFja2dyb3VuZDogI0VERURFRDsNCiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgLmRlZmF1bHRJbWcgew0KICAgICAgICAgICAgd2lkdGg6IDcwJTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+S4jeWujOaVtOWbvueJhw0KICAgICAgICB9DQogICAgICAgIC51cEltZyB7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgIH0NCiAgICB9DQogICAgLndyYXBfaW1nIHsNCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAuYWRkSW1nIHsNCiAgICAgICAgICAgIHdpZHRoOiA1MHB4Ow0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgYm90dG9tOiAwOw0KICAgICAgICAgICAgbGVmdDogNTAlOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSw1MCUpOw0KICAgICAgICB9DQogICAgfQ0KICAgIC5tZXNzYWdlX2Zvcm0gew0KICAgICAgICB3aWR0aDogNTUwcHg7DQogICAgICAgIG1hcmdpbjogNDBweCBhdXRvOw0KICAgICAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjU2NHB4KSB7DQogICAgICAgICAgICB3aWR0aDogOTAlOw0KICAgICAgICAgICAgbWFyZ2luOiBhdXRvOw0KICAgICAgICB9DQogICAgfQ0KICAgIC50ZXh0Y29sb3Igew0KICAgICAgICBjb2xvcjogI0JDQkNCQzsNCiAgICB9DQogICAgLnNlbGVjdF9pdGVtIHsNCiAgICAgICAgd2lkdGg6IDMwJTsNCiAgICB9DQo="},{"version":3,"sources":["petmessage.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"petmessage.vue","sourceRoot":"src/view/petmessage","sourcesContent":["<style lang=\"less\" scoped>\r\n@import \"@/less/css.less\";\r\n    .message_title {\r\n        padding: 20px 0;\r\n    }\r\n    .photo {\r\n        margin: 7px;\r\n        width: 150px;\r\n        height: 150px;\r\n        border-radius: 50%;\r\n        position: relative;\r\n        background: #EDEDED;\r\n        overflow: hidden;\r\n        .defaultImg {\r\n            width: 70%;                           //不完整图片\r\n        }\r\n        .upImg {\r\n            height: 100%;\r\n        }\r\n    }\r\n    .wrap_img {\r\n        position: relative;\r\n        .addImg {\r\n            width: 50px;\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 50%;\r\n            transform: translate(-50%,50%);\r\n        }\r\n    }\r\n    .message_form {\r\n        width: 550px;\r\n        margin: 40px auto;\r\n        @media screen and (max-width:564px) {\r\n            width: 90%;\r\n            margin: auto;\r\n        }\r\n    }\r\n    .textcolor {\r\n        color: #BCBCBC;\r\n    }\r\n    .select_item {\r\n        width: 30%;\r\n    }\r\n</style>\r\n\r\n<template>\r\n    <div class=\"petMessage\">\r\n        <div>\r\n            <myHeaderL></myHeaderL>\r\n        </div>\r\n        <div class=\"fillIn\">  <!-- 填写信息 -->\r\n            <div class=\"message_title size21 tc\">About the pet</div>\r\n            <div class=\"size12 tc\">Add your pet details</div>\r\n            <!-- <div class=\"ju\">\r\n                <div class=\"wrap_img\">\r\n                    <label class=\"photo cursor al ju\" for=\"avaImg\">\r\n                        <img class=\"upImg\" :src=\"addPetMessage.image\" v-if=\"addPetMessage.image\" alt=\"\">\r\n                        <img class=\"defautlImg\" src=\"@/assets/img/default.png\" alt=\"\" v-else>\r\n                        <input type=\"file\" @change=\"getImage\" name=\"\" v-show=\"false\" id=\"avaImg\">\r\n                    </label>\r\n                    <img class=\"addImg\" src=\"@/assets/img/file.png\" alt=\"\">\r\n                </div>\r\n            </div> -->\r\n            <div class=\"message_form\">\r\n                <el-form :rules=\"rules\" ref=\"form\" :model=\"addPetMessage\" :label-position=\"position\" label-width=\"80px\">\r\n                    <el-form-item prop=\"image\">\r\n                        <div class=\"ju\">\r\n                            <div class=\"wrap_img\">\r\n                                <label class=\"photo cursor al ju\" for=\"avaImg\">\r\n                                    <img class=\"upImg\" :src=\"addPetMessage.image\" v-if=\"addPetMessage.image\" alt=\"\">\r\n                                    <img class=\"defautlImg\" src=\"@/assets/img/default.png\" alt=\"\" v-else>\r\n                                    <input type=\"file\" @change=\"getImage\" name=\"\" v-show=\"false\" id=\"avaImg\">\r\n                                </label>\r\n                                <img class=\"addImg\" src=\"@/assets/img/file.png\" alt=\"\">\r\n                            </div>\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"name\">\r\n                        <el-input placeholder=\"Pet Name\" v-model=\"addPetMessage.name\"></el-input>\r\n                    </el-form-item>\r\n                    <div class=\"textcolor\">Date of birth</div>\r\n                    <div>\r\n                        <el-form-item prop=\"birth\">\r\n                            <div class=\"sb\">\r\n                                <div class=\"select_item\">\r\n                                    <el-select v-model=\"day\" @change=\"chooseDay\">\r\n                                        <el-option v-for=\"(item,i) in dayList\" :key=\"i\" :value=\"item\"></el-option>\r\n                                    </el-select>\r\n                                </div>\r\n                                <div class=\"select_item\">\r\n                                    <el-select v-model=\"month\" @change=\"chooseMonth\">\r\n                                        <el-option v-for=\"(item,i) in monthList\" :key=\"i\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n                                    </el-select>\r\n                                </div>\r\n                                <div class=\"select_item\">\r\n                                    <el-select v-model=\"years\">\r\n                                        <el-option v-for=\"(item,i) in yearsList\" :key=\"i\" :value=\"item\"></el-option>\r\n                                    </el-select>\r\n                                </div>\r\n                            </div>\r\n                        </el-form-item>\r\n                    </div>\r\n                    <div class=\"sb textcolor\">\r\n                        <div style=\"width:30%\">Gender</div>\r\n                        <div style=\"width:30%\">Neutered status</div>\r\n                        <div style=\"width:30%\">Weight (kg)</div>\r\n                    </div>\r\n                    <div>\r\n                        <el-form-item prop=\"weight\">\r\n                            <div class=\"sb\">\r\n                                <div class=\"select_item\">\r\n                                    <el-select v-model=\"sex\">\r\n                                        <el-option v-for=\"(item,i) in sexList\" :key=\"i\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n                                    </el-select>\r\n                                </div>\r\n                                <div class=\"select_item\">\r\n                                    <el-select v-model=\"value\">\r\n                                        <el-option value=\"\"></el-option>\r\n                                    </el-select>\r\n                                </div>\r\n                                <div class=\"select_item\">\r\n                                    <el-input v-model=\"addPetMessage.weight\"></el-input>\r\n                                </div>\r\n                            </div>\r\n                        </el-form-item>\r\n                    </div>\r\n                    <el-form-item prop=\"petType\">\r\n                        <el-input placeholder=\"Pet Type\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-input placeholder=\"Remark\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button class=\"width100\" type=\"warning\">Other Pet</el-button>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button class=\"width100\" type=\"primary\" @click=\"submit\">Submit</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { addPet, file } from '@/axios/request.js'\r\nexport default {\r\n    data () {\r\n        return {\r\n            position:'top',\r\n            formList: {\r\n                one:'123',\r\n                two:'456'\r\n            },\r\n            value:[],\r\n            value1:'',\r\n            day:'',\r\n            dayList:[],\r\n            month:'',\r\n            // monthList:[],\r\n            judge_month: null,\r\n            monthList: [ \r\n                { label: 'Jan', value: '1' }, \r\n                { label: 'Feb', value: '2' }, \r\n                { label: 'Mar', value: '3' }, \r\n                { label: 'Apr', value: '4' }, \r\n                { label: 'May', value: '5' }, \r\n                { label: 'Jun', value: '6' }, \r\n                { label: 'Jul', value: '7' }, \r\n                { label: 'Aug', value: '8' }, \r\n                { label: 'Sep', value: '9' }, \r\n                { label: 'Oct', value: '10' }, \r\n                { label: 'Nov', value: '11' }, \r\n                { label: 'Dec', value: '12' }, \r\n            ],\r\n            years:'',\r\n            yearsList:[],\r\n            sex:'',\r\n            sexList: [\r\n                {label: 'M', value: 1},\r\n                {label: 'F', value: 2},\r\n            ],\r\n            addPetMessage: {\r\n                id: localStorage.getItem(\"userId\"),\r\n                name: \"\",\r\n                image: '',\r\n                petType: null,\r\n                birth: \"\",\r\n                weight: \"\"\r\n            },\r\n            rules: {\r\n                name: [\r\n                    { required: true, message: \"Please enter name!\", trigger: 'blur' }\r\n                ],\r\n                petType: [\r\n                    { required: true, message: \"Please enter petType!\", trigger: 'blur' }\r\n                ],\r\n                birth: [\r\n                    { required: true, message: \"Please enter birth!\", trigger: 'blur' }\r\n                ],\r\n                weight: [\r\n                    { required: true, message: \"Please enter weight!\", trigger: 'blur' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    created () {\r\n        this.getDay()\r\n    },\r\n    methods: {\r\n        addPet () {                                                                              //添加宠物\r\n            addPet(this.addPetMessage).then(res => {\r\n                console.log(res,\"添加宠物信息\")\r\n            })  \r\n        },\r\n        getImage (e) {\r\n            var formData = new FormData()\r\n            formData.append('file',e.target.files[0])\r\n            file(formData).then(res => {\r\n                console.log(res)\r\n                if (res.data.rtnCode == 200) {\r\n                    this.addPetMessage.image = res.data.data\r\n                }\r\n            }).catch(e => {\r\n                console.log(e)\r\n                this.$message({\r\n                    type: \"error\",\r\n                    message: \"Picture is too large\"\r\n                })\r\n            })\r\n        },\r\n        getDay () {\r\n            // let month = new Date().getMonth() + 1      //获取月份\r\n            // let Day = new Date(2021,2,0).getDate()//  获取每月天数\r\n            for (let i=1;i<=31;i++) {\r\n                this.dayList.push(i)\r\n            }\r\n            let year = new Date().getFullYear()\r\n            for ( let i=0; i<=21; i++ ) {\r\n                this.yearsList.push(year - i)\r\n            }\r\n        },\r\n        chooseDay (val) {\r\n            this.day = val\r\n        },\r\n        chooseMonth (val) {\r\n            console.log(val)\r\n            this.judge_month = val\r\n            let Day = new Date(2021,this.judge_month,0).getDate()//  获取每月天数\r\n            console.log(Day,'day')\r\n            this.dayList = []\r\n            for (let i=1;i<=Day;i++) {\r\n                this.dayList.push(i)\r\n            }\r\n            console.log(this.dayList.length,this.day)\r\n            if (this.day > this.dayList.length) {\r\n                this.day = this.dayList.length\r\n            }\r\n        },\r\n        submit () {\r\n            this.$refs.form.validate((flag) => {\r\n                if (flag) {\r\n                    this.addPetMessage.birth = String(this.years) + '-' + String(this.month) + '-' + String(this.day)\r\n                    this.addPet()\r\n                    // this.$router.replace('/petDetails')\r\n                } else {\r\n                    this.$message({\r\n                        type: \"error\",\r\n                        message: \"Please fill in the information completely!\"\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n"]}]}