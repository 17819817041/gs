{"remainingRequest":"E:\\gs\\Petavi\\node_modules\\babel-loader\\lib\\index.js!E:\\gs\\Petavi\\src\\vuex\\modules\\user.js","dependencies":[{"path":"E:\\gs\\Petavi\\src\\vuex\\modules\\user.js","mtime":1623045934971},{"path":"E:\\gs\\Petavi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\gs\\Petavi\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IHsgcGV0TGlzdCwgZ2V0VXNlckRldGFpbHMsIHZldERldGFpbHMgfSBmcm9tICJAL2F4aW9zL3JlcXVlc3QuanMiOwppbXBvcnQgeyBjb25uLCBXZWJJTSwgcnRjQ2FsbCB9IGZyb20gIkAvYXNzZXRzL2pzL3dlYnNkay5qcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiB7CiAgICBJTXVzZXI6IHt9LAogICAgbG9naW46IGZhbHNlLAogICAgcGV0TGlzdDogW10sCiAgICBjYWxsTW9kYWw6IGZhbHNlLAogICAgY2FsbE1vZGFsMjogZmFsc2UsCiAgICBjYWxsVG86IHt9LAogICAgdXNlckRldGFpbDoge30sCiAgICBtYXNrOiB7fSwKICAgIGhlYWRJbWc6IHt9LAogICAgcm90YXRlOiBmYWxzZSwKICAgIHN1cmVDYWxsOiB0cnVlLAogICAgc2hvd0xpc3Q6IHRydWUsCiAgICBuYW1lTGlzdDogdHJ1ZSwKICAgIHBldFR5cGU6IHt9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGVbZGF0YS5rZXldID0gZGF0YS52YWx1ZTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgY29uc29sZS5sb2coImxvZ2luIik7CiAgICB9LAogICAgZ2V0UGV0TGlzdDogZnVuY3Rpb24gZ2V0UGV0TGlzdChzdG9yZSwgZGF0YSkgewogICAgICBwZXRMaXN0KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcywgIuWuoOeJqeWIl+ihqCbnsbvliKsiKTsKCiAgICAgICAgaWYgKHJlcy5kYXRhLnJ0bkNvZGUgPT0gMjAwKSB7CiAgICAgICAgICByZXMuZGF0YS5kYXRhLnBhZ2VULmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaXRlbS5jaGFuZ2UgPSB0cnVlOwoKICAgICAgICAgICAgaWYgKGl0ZW0uYWdlKSB7CiAgICAgICAgICAgICAgdmFyIGRhdGUgPSBpdGVtLmFnZS5zcGxpdCgneXJzJyk7CiAgICAgICAgICAgICAgaXRlbS55cnMgPSBkYXRlLmpvaW4oJywnKS5zcGxpdCgnbW8nKS5qb2luKCcnKS5zcGxpdCgnLCcpWzBdOwogICAgICAgICAgICAgIGl0ZW0ubW8gPSBkYXRlLmpvaW4oJywnKS5zcGxpdCgnbW8nKS5qb2luKCcnKS5zcGxpdCgnLCcpWzFdOwogICAgICAgICAgICB9IGVsc2Uge30KCiAgICAgICAgICAgIGlmIChpdGVtLnBldFR5cGVMaXN0KSB7CiAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRVc2VyIiwgewogICAgICAgICAgICAgICAga2V5OiAicGV0VHlwZSIsCiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsgLy8gcmVzLmRhdGEuZGF0YS5wYWdlVC5wb3AoKQoKICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0VXNlciIsIHsKICAgICAgICAgICAga2V5OiAicGV0TGlzdCIsCiAgICAgICAgICAgIHZhbHVlOiByZXMuZGF0YS5kYXRhLnBhZ2VUCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRVc2VyIiwgewogICAgICAgICAgICBrZXk6ICJwZXRMaXN0IiwKICAgICAgICAgICAgdmFsdWU6IFtdCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIGdldFVzZXIgKHN0b3JlLGRhdGEpIHsKICAgIC8vICAgICB2YXIgZGF0YSA9IHsKICAgIC8vICAgICAgICAgdXNlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIikKICAgIC8vICAgICB9CiAgICAvLyAgICAgZ2V0VXNlckRldGFpbHMoZGF0YSkudGhlbihyZXMgPT4gewogICAgLy8gICAgICAgICBpZiAocmVzLmRhdGEucnRuQ29kZSA9PSAyMDApIHsKICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcywidXNlcuivpuaDhSIpCiAgICAvLyAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0VXNlciIseyBrZXk6ICJwZXRMaXN0IiwgdmFsdWU6IHJlcy5kYXRhLmRhdGEgfSkgCiAgICAvLyAgICAgICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgICAgICBzdG9yZS5jb21taXQoInNldFVzZXIiLHsga2V5OiAicGV0TGlzdCIsIHZhbHVlOiB7fSB9KSAKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgIH0pCiAgICAvLyB9LAogICAgZ2V0VXNlcjogZnVuY3Rpb24gZ2V0VXNlcihzdG9yZSwgZGF0YSkgewogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInBsYXRmb3JtIikgPT0gMSkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgdXNlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIikKICAgICAgICB9OwogICAgICAgIGdldFVzZXJEZXRhaWxzKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLnJ0bkNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcywgInVzZXLor6bmg4UiKTsKICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRVc2VyIiwgewogICAgICAgICAgICAgIGtleTogInVzZXJEZXRhaWwiLAogICAgICAgICAgICAgIHZhbHVlOiByZXMuZGF0YS5kYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzdG9yZS5jb21taXQoInNldFVzZXIiLCB7CiAgICAgICAgICAgICAga2V5OiAibG9naW4iLAogICAgICAgICAgICAgIHZhbHVlOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgiSU1Mb2dpbiIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRVc2VyIiwgewogICAgICAgICAgICAgIGtleTogInVzZXJEZXRhaWwiLAogICAgICAgICAgICAgIHZhbHVlOiB7fQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICBzdG9yZS5jb21taXQoInNldFVzZXIiLCB7CiAgICAgICAgICAgIGtleTogImxvZ2luIiwKICAgICAgICAgICAgdmFsdWU6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicGxhdGZvcm0iKSA9PSAyKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICB1c2VySWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKQogICAgICAgIH07CiAgICAgICAgdmV0RGV0YWlscyhkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcywgIuWMu+eUn+ivpuaDhSIpOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5ydG5Db2RlID09IDIwMCkgewogICAgICAgICAgICByZXMuZGF0YS5kYXRhLnVzZXJJbWFnZSA9IHJlcy5kYXRhLmRhdGEuZG9jdG9ySW1hZ2U7CiAgICAgICAgICAgIHJlcy5kYXRhLmRhdGEudXNlck5hbWUgPSByZXMuZGF0YS5kYXRhLmRvY3Rvck5hbWU7CiAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0VXNlciIsIHsKICAgICAgICAgICAgICBrZXk6ICJ1c2VyRGV0YWlsIiwKICAgICAgICAgICAgICB2YWx1ZTogcmVzLmRhdGEuZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRVc2VyIiwgewogICAgICAgICAgICAgIGtleTogImxvZ2luIiwKICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goIklNTG9naW4iKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0VXNlciIsIHsKICAgICAgICAgICAgICBrZXk6ICJ1c2VyRGV0YWlsIiwKICAgICAgICAgICAgICB2YWx1ZToge30KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRVc2VyIiwgewogICAgICAgICAgICBrZXk6ICJsb2dpbiIsCiAgICAgICAgICAgIHZhbHVlOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBJTVNpZ25VcDogZnVuY3Rpb24gSU1TaWduVXAoc3RvcmUpIHsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgdXNlcm5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSArICdfJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwbGF0Zm9ybSIpLAogICAgICAgIC8vNDMwXzIKICAgICAgICBwYXNzd29yZDogJzEyMzQ1NicsCiAgICAgICAgbmlja25hbWU6ICduaWNrTmFtZScsCiAgICAgICAgYXBwS2V5OiBXZWJJTS5jb25maWcuYXBwa2V5LAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5rOo5YaM5oiQ5YqfIik7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgiSU1Mb2dpbiIpOwogICAgICAgIH0sCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVycikgewogICAgICAgICAgdmFyIGVycm9yRGF0YSA9IEpTT04ucGFyc2UoZXJyLmRhdGEpOwoKICAgICAgICAgIGlmIChlcnJvckRhdGEuZXJyb3IgPT09ICdkdXBsaWNhdGVfdW5pcXVlX3Byb3BlcnR5X2V4aXN0cycpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+W3suWtmOWcqO+8gScpOwogICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgiSU1Mb2dpbiIpOwogICAgICAgICAgfSBlbHNlIGlmIChlcnJvckRhdGEuZXJyb3IgPT09ICdpbGxlZ2FsX2FyZ3VtZW50JykgewogICAgICAgICAgICBpZiAoZXJyb3JEYXRhLmVycm9yX2Rlc2NyaXB0aW9uID09PSAnVVNFUk5BTUVfVE9PX0xPTkcnKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+WQjei2hei/hzY05Liq5a2X6IqC77yBJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+WQjeS4jeWQiOazle+8gScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yRGF0YS5lcnJvciA9PT0gJ3VuYXV0aG9yaXplZCcpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+azqOWGjOWksei0pe+8jOaXoOadg+mZkO+8gScpOwogICAgICAgICAgfSBlbHNlIGlmIChlcnJvckRhdGEuZXJyb3IgPT09ICdyZXNvdXJjZV9saW1pdGVkJykgewogICAgICAgICAgICBjb25zb2xlLmxvZygn5oKo55qEQXBw55So5oi35rOo5YaM5pWw6YeP5bey6L6+5LiK6ZmQLOivt+WNh+e6p+iHs+S8geS4mueJiO+8gScpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsgLy8gY29uc29sZS5sb2coMTIzLGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdJTXRva2VuJykpCiAgICAgIC8vIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnSU10b2tlbicpKSB7CiAgICAgIC8vICAgICBzdG9yZS5kaXNwYXRjaCgnSU1Mb2dpbicpCiAgICAgIC8vIH0gZWxzZSB7CgogICAgICBjb25uLnJlZ2lzdGVyVXNlcihvcHRpb25zKTsgLy8gfQogICAgfSwKICAgIElNTG9naW46IGZ1bmN0aW9uIElNTG9naW4oc3RvcmUpIHsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgdXNlcjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpICsgJ18nICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInBsYXRmb3JtIiksCiAgICAgICAgcHdkOiAnMTIzNDU2JywKICAgICAgICBhcHBLZXk6IFdlYklNLmNvbmZpZy5hcHBrZXksCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICBzdG9yZS5jb21taXQoInNldFVzZXIiLCB7CiAgICAgICAgICAgIGtleTogJ0lNdXNlcicsCiAgICAgICAgICAgIHZhbHVlOiByZXMudXNlcgogICAgICAgICAgfSk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiSU10b2tlbiIsIHJlcy5hY2Nlc3NfdG9rZW4pOwogICAgICAgICAgY29uc29sZS5sb2coc3RvcmUuc3RhdGUuSU11c2VyKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGNvbm4ub3BlbihvcHRpb25zKTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdG9yZSwgdm0pIHsKICAgICAgdm0uJGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB0byBsb2cgb3V0PycsICdBdHRlbnRpb24nLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdDb25maXJtJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oIlRva2VuIik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJZCIpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJwYWx0Zm9ybSIpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJJTXRva2VuIik7CiAgICAgICAgdm0uJHJvdXRlci5yZXBsYWNlKCIvbG9naW4iKTsKICAgICAgICBzdG9yZS5jb21taXQoInNldFVzZXIiLCB7CiAgICAgICAgICBrZXk6ICJsb2dpbiIsCiAgICAgICAgICB2YWx1ZTogZmFsc2UKICAgICAgICB9KTsKICAgICAgICBzdG9yZS5jb21taXQoInNldFVzZXIiLCB7CiAgICAgICAgICBrZXk6ICJJTXVzZXIiLAogICAgICAgICAgdmFsdWU6IHt9CiAgICAgICAgfSk7CiAgICAgICAgY29ubi5jbG9zZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVEZXRhaWxzOiBmdW5jdGlvbiB1cGRhdGVEZXRhaWxzKHN0b3JlLCBkYXRhKSB7fQogIH0KfTs="},{"version":3,"sources":["E:/gs/Petavi/src/vuex/modules/user.js"],"names":["petList","getUserDetails","vetDetails","conn","WebIM","rtcCall","Vue","state","IMuser","login","callModal","callModal2","callTo","userDetail","mask","headImg","rotate","sureCall","showList","nameList","petType","mutations","setUser","data","key","value","actions","console","log","getPetList","store","then","res","rtnCode","pageT","forEach","item","change","age","date","split","yrs","join","mo","petTypeList","commit","catch","e","getUser","localStorage","getItem","userId","dispatch","userImage","doctorImage","userName","doctorName","IMSignUp","options","username","password","nickname","appKey","config","appkey","success","error","err","errorData","JSON","parse","error_description","registerUser","IMLogin","user","pwd","setItem","access_token","open","logout","vm","$confirm","confirmButtonText","cancelButtonText","type","removeItem","$router","replace","close","updateDetails"],"mappings":"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","sourcesContent":["import { petList, getUserDetails, vetDetails } from \"@/axios/request.js\"\r\nimport {conn, WebIM, rtcCall} from \"@/assets/js/websdk.js\"\r\nimport Vue from \"vue\"\r\nexport default {\r\n    state: {\r\n        IMuser: {},\r\n        login: false,\r\n        petList:[],\r\n        callModal: false,\r\n        callModal2: false,\r\n        callTo: {},\r\n        userDetail: {},\r\n        mask: {},\r\n        headImg: {},\r\n        rotate: false,\r\n        sureCall: true,\r\n        showList: true,\r\n        nameList: true,\r\n        petType: {}\r\n    },\r\n    mutations: {\r\n        setUser (state,data) {\r\n            state[data.key] = data.value\r\n        }\r\n    },\r\n    actions: {\r\n        login () {\r\n            console.log(\"login\")\r\n        },\r\n        getPetList (store,data) {\r\n            petList(data).then(res => {\r\n                console.log(res,\"宠物列表&类别\")\r\n                if (res.data.rtnCode == 200) {\r\n                    res.data.data.pageT.forEach(item => {\r\n                        item.change = true\r\n                        if (item.age) {\r\n                            let date = item.age.split('yrs')\r\n                            item.yrs = date.join(',').split('mo').join('').split(',')[0]\r\n                            item.mo = date.join(',').split('mo').join('').split(',')[1]\r\n                        } else {\r\n\r\n                        }\r\n                        if (item.petTypeList) {\r\n                            store.commit(\"setUser\",{ key: \"petType\", value: item })\r\n                        }\r\n                    })\r\n                    // res.data.data.pageT.pop()\r\n                    store.commit(\"setUser\",{ key: \"petList\", value: res.data.data.pageT })\r\n                } else {\r\n                    store.commit(\"setUser\",{ key: \"petList\", value: [] }) \r\n                }\r\n            }).catch(e => {\r\n                console.log(e)\r\n            })\r\n        },\r\n        // getUser (store,data) {\r\n        //     var data = {\r\n        //         userId: localStorage.getItem(\"userId\")\r\n        //     }\r\n        //     getUserDetails(data).then(res => {\r\n        //         if (res.data.rtnCode == 200) {\r\n        //             console.log(res,\"user详情\")\r\n        //            store.commit(\"setUser\",{ key: \"petList\", value: res.data.data }) \r\n        //         } else {\r\n        //             store.commit(\"setUser\",{ key: \"petList\", value: {} }) \r\n        //         }\r\n        //     })\r\n        // },\r\n\r\n        getUser (store,data) {\r\n            if (localStorage.getItem(\"platform\") == 1) {\r\n                var data = {\r\n                  userId: localStorage.getItem(\"userId\")\r\n                }\r\n                getUserDetails(data).then(res => {\r\n                    if (res.data.rtnCode == 200) {\r\n                        console.log(res,\"user详情\")\r\n                        store.commit(\"setUser\",{ key: \"userDetail\", value: res.data.data }) \r\n                        store.commit(\"setUser\",{ key: \"login\", value: true }) \r\n                        store.dispatch(\"IMLogin\")\r\n                    } else {\r\n                        store.commit(\"setUser\",{ key: \"userDetail\", value: {} }) \r\n                    }\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                    store.commit(\"setUser\",{ key: \"login\", value: false }) \r\n                })\r\n            } else if (localStorage.getItem(\"platform\") == 2) {\r\n                var data = {\r\n                    userId: localStorage.getItem(\"userId\"),\r\n                }\r\n                vetDetails(data).then(res => {\r\n                    console.log(res,\"医生详情\")\r\n                    if (res.data.rtnCode == 200) {\r\n                        res.data.data.userImage = res.data.data.doctorImage\r\n                        res.data.data.userName = res.data.data.doctorName\r\n                        store.commit(\"setUser\",{ key: \"userDetail\", value: res.data.data }) \r\n                        store.commit(\"setUser\",{ key: \"login\", value: true }) \r\n                        store.dispatch(\"IMLogin\")\r\n                    } else {\r\n                        store.commit(\"setUser\",{ key: \"userDetail\", value: {} }) \r\n                    }\r\n                }).catch(e => {\r\n                    console.log(e)\r\n                    store.commit(\"setUser\",{ key: \"login\", value: false }) \r\n                })\r\n            }\r\n        },\r\n        IMSignUp (store) {\r\n            var options = { \r\n                username: localStorage.getItem(\"userId\") + '_' + localStorage.getItem(\"platform\"),  //430_2\r\n                password: '123456',\r\n                nickname: 'nickName',\r\n                appKey: WebIM.config.appkey,\r\n                success: function () { \r\n                    console.log(\"注册成功\")\r\n                    store.dispatch(\"IMLogin\")\r\n                },  \r\n                error: function (err) {\r\n                    let errorData = JSON.parse(err.data);\r\n                    if (errorData.error === 'duplicate_unique_property_exists') {\r\n                        console.log('用户已存在！');\r\n                        store.dispatch(\"IMLogin\")\r\n                    } else if (errorData.error === 'illegal_argument') {\r\n                        if (errorData.error_description === 'USERNAME_TOO_LONG') {\r\n                            console.log('用户名超过64个字节！')\r\n                        }else{\r\n                            console.log('用户名不合法！')\r\n                        }\r\n                    } else if (errorData.error === 'unauthorized') {\r\n                        console.log('注册失败，无权限！')\r\n                    } else if (errorData.error === 'resource_limited') {\r\n                        console.log('您的App用户注册数量已达上限,请升级至企业版！')\r\n                    }\r\n                }, \r\n            }; \r\n            // console.log(123,localStorage.getItem('IMtoken'))\r\n            // if (localStorage.getItem('IMtoken')) {\r\n            //     store.dispatch('IMLogin')\r\n            // } else {\r\n                conn.registerUser(options);\r\n            // }\r\n        },\r\n        IMLogin (store) {\r\n            var options = { \r\n                user: localStorage.getItem(\"userId\") + '_' + localStorage.getItem(\"platform\"),\r\n                pwd: '123456',\r\n                appKey: WebIM.config.appkey,\r\n                success (res) {\r\n                    console.log(res)\r\n                    store.commit(\"setUser\", { key: 'IMuser', value: res.user })\r\n                    localStorage.setItem(\"IMtoken\",res.access_token)\r\n                    console.log(store.state.IMuser)\r\n                }\r\n            };\r\n            conn.open(options);\r\n        },\r\n        logout (store,vm) {\r\n            vm.$confirm('Are you sure to log out?', 'Attention', {\r\n                confirmButtonText: 'Confirm',\r\n                cancelButtonText: 'Cancel',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                localStorage.removeItem(\"Token\")\r\n                localStorage.removeItem(\"userId\")\r\n                localStorage.removeItem(\"paltform\")\r\n                localStorage.removeItem(\"IMtoken\")\r\n                \r\n                vm.$router.replace(\"/login\")\r\n                store.commit(\"setUser\", {\r\n                    key: \"login\",\r\n                    value: false\r\n                })\r\n                store.commit(\"setUser\", {\r\n                    key: \"IMuser\",\r\n                    value: {}\r\n                })\r\n                conn.close()\r\n            }).catch (e => {\r\n                console.log(e)\r\n            })\r\n        },\r\n        updateDetails (store,data) {\r\n\r\n        }\r\n    }\r\n}"]}]}